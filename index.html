<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ODM Public School Admissions 2024</title>
    <script async src="dist/elernwidget.js"></script>
    <link rel="stylesheet" href="dist/elernwidget.css" />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @keyframes slideInLeft {
        from {
          transform: translateX(-100px);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .animate-slide-in {
        animation: slideInLeft 0.8s ease-out forwards;
      }

      .animate-fade-in {
        animation: fadeIn 0.8s ease-out forwards;
      }

      .animate-pulse-slow {
        animation: pulse 2s infinite;
      }

      .highlight-card:hover {
        transform: scale(1.03);
        transition: transform 0.3s ease;
      }

      * {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      #loader {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100px;
      }

      .spinner {
        border: 4px solid rgba(0, 0, 0, 0.1);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border-left-color: #09f;
        animation: spin 1s ease infinite;
      }

      .facility-item {
        opacity: 0;
        transform: translateX(-20px);
        animation: slideInLeft 0.5s ease-out forwards;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style>
  </head>
  <body class="bg-white">
    <div
      class="container mx-auto px-4 py-8 h-screen flex items-center justify-center"
    >
      <div class="flex md:flex-row flex-col gap-8 justify-center items-center">
        <!-- Enhanced Left side content -->
        <div class="md:w-1/2 space-y-6">
          <!-- Limited Seats Badge -->
          <div
            class="flex items-center space-x-2 text-yellow-500 animate-pulse-slow"
          >
            <svg class="w-6 h-6 fill-current" viewBox="0 0 20 20">
              <path
                d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
              />
            </svg>
            <span class="text-sm font-semibold"
              >Limited Seats Available for 2024</span
            >
          </div>

          <!-- Main Heading -->
          <div class="space-y-3 animate-slide-in">
            <h1 class="text-5xl font-bold text-red-600 mb-4">
              Admissions Open for 2024
            </h1>
            <h2 class="text-2xl text-gray-700 mb-4">
              Welcome to ODM Public School - Best CBSE Residential School in
              Bhubaneswar, Odisha
            </h2>
          </div>

          <!-- School Highlights -->
          <div class="grid grid-cols-2 gap-4 animate-fade-in">
            <div
              class="highlight-card p-4 bg-red-50 rounded-lg flex items-center space-x-3"
            >
              <svg
                class="w-8 h-8 text-red-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"
                />
              </svg>
              <span class="text-sm font-medium"
                >Ranked #1 CBSE School in Odisha</span
              >
            </div>
            <div
              class="highlight-card p-4 bg-red-50 rounded-lg flex items-center space-x-3"
            >
              <svg
                class="w-8 h-8 text-red-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"
                />
              </svg>
              <span class="text-sm font-medium"
                >15:1 Student-Teacher Ratio</span
              >
            </div>
            <div
              class="highlight-card p-4 bg-red-50 rounded-lg flex items-center space-x-3"
            >
              <svg
                class="w-8 h-8 text-red-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                />
              </svg>
              <span class="text-sm font-medium"
                >Innovative CPX Learning Model</span
              >
            </div>
            <div
              class="highlight-card p-4 bg-red-50 rounded-lg flex items-center space-x-3"
            >
              <svg
                class="w-8 h-8 text-red-600"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"
                />
              </svg>
              <span class="text-sm font-medium"
                >100% College Placement Record</span
              >
            </div>
          </div>

          <!-- Main Description -->
          <p class="text-gray-600 leading-relaxed animate-fade-in">
            Experience excellence at ODM Public School, where we nurture future
            leaders through our comprehensive educational approach. Our CPX
            Learning Model ensures students receive strong foundations in
            academics, co-curriculars, and sports, preparing them for global
            success.
          </p>

          <!-- World-Class Facilities -->
          <div class="space-y-4">
            <h3 class="text-lg font-semibold text-gray-800">
              World-Class Facilities
            </h3>
            <div class="grid grid-cols-2 gap-3">
              <div
                class="facility-item flex items-center space-x-2"
                style="animation-delay: 0.1s"
              >
                <svg
                  class="w-4 h-4 text-red-600"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="text-sm text-gray-600">Smart Classrooms</span>
              </div>
              <div
                class="facility-item flex items-center space-x-2"
                style="animation-delay: 0.2s"
              >
                <svg
                  class="w-4 h-4 text-red-600"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="text-sm text-gray-600"
                  >Olympic-Size Swimming Pool</span
                >
              </div>
              <div
                class="facility-item flex items-center space-x-2"
                style="animation-delay: 0.3s"
              >
                <svg
                  class="w-4 h-4 text-red-600"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="text-sm text-gray-600">Advanced Science Labs</span>
              </div>
              <div
                class="facility-item flex items-center space-x-2"
                style="animation-delay: 0.4s"
              >
                <svg
                  class="w-4 h-4 text-red-600"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"
                    clip-rule="evenodd"
                  />
                </svg>
                <span class="text-sm text-gray-600">Indoor Sports Complex</span>
              </div>
            </div>
          </div>

          <!-- CTAs -->
          <div class="flex space-x-4">
            <a
              href="#"
              class="group inline-flex items-center space-x-2 bg-red-600 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-700 transition duration-300"
            >
              <span>Apply Now</span>
              <svg
                class="w-4 h-4 transform group-hover:translate-x-1 transition-transform"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M14 5l7 7m0 0l-7 7m7-7H3"
                />
              </svg>
            </a>
            <a
              href="#"
              id="download-brochure"
              class="inline-flex items-center space-x-2 px-6 py-3 border-2 border-red-600 text-red-600 rounded-md font-semibold hover:bg-red-50 transition duration-300"
            >
              Download Brochure
            </a>
          </div>

          <!-- Trust Indicators -->
          <div class="flex items-center space-x-4 text-sm text-gray-500">
            <div class="flex items-center space-x-1">
              <svg
                class="w-4 h-4 text-yellow-500 fill-current"
                viewBox="0 0 20 20"
              >
                <path
                  d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                />
              </svg>
              <span>4.9/5 Parent Rating</span>
            </div>
            <div>•</div>
            <div>CBSE Affiliated</div>
            <div>•</div>
            <div>Since 1989</div>
          </div>
        </div>

        <!-- Right side form widget -->
        <div class="md:w-1/2 max-h-screen overflow-y-auto py-4">
          <div id="loader">
            <div class="spinner"></div>
          </div>
          <div id="student-application-form" style="display: none"></div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const loader = document.getElementById("loader");
        const formContainer = document.getElementById(
          "student-application-form"
        );

        // Animate facility items sequentially
        const facilityItems = document.querySelectorAll(".facility-item");
        facilityItems.forEach((item, index) => {
          item.style.animationDelay = `${index * 0.1}s`;
        });

        // Add hover animations to highlight cards
        const highlightCards = document.querySelectorAll(".highlight-card");
        highlightCards.forEach((card) => {
          card.addEventListener("mouseenter", () => {
            card.style.transform = "scale(1.03)";
            card.style.transition = "transform 0.3s ease";
          });
          card.addEventListener("mouseleave", () => {
            card.style.transform = "scale(1)";
          });
        });

        // Initialize counter animation for stats
        function animateValue(element, start, end, duration) {
          let startTimestamp = null;
          const step = (timestamp) => {
            if (!startTimestamp) startTimestamp = timestamp;
            const progress = Math.min(
              (timestamp - startTimestamp) / duration,
              1
            );
            const current = Math.floor(progress * (end - start) + start);
            element.textContent = current;
            if (progress < 1) {
              window.requestAnimationFrame(step);
            }
          };
          window.requestAnimationFrame(step);
        }

        // Intersection Observer for scroll animations
        const observer = new IntersectionObserver(
          (entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                entry.target.classList.add("animate-fade-in");
                observer.unobserve(entry.target);
              }
            });
          },
          {
            threshold: 0.1,
          }
        );

        // Observe elements that should animate on scroll
        document.querySelectorAll(".animate-on-scroll").forEach((element) => {
          observer.observe(element);
        });

        // Get template ID from URL or use default
        const getTemplateId = () => {
          const pathMatch = window.location.pathname.match(/\/(\d+)$/);
          if (pathMatch) return pathMatch[1];

          const urlParams = new URLSearchParams(window.location.search);
          const templateId = urlParams.get("templateId");
          if (templateId) return templateId;

          return "16";
        };

        const templateId = getTemplateId();

        // Initialize the widget
        ElernWidget.initializeWidget({
          formId: "student-application-form",
          templateId: templateId,
        });

        // Form rendering check with enhanced loader
        const checkFormRendered = setInterval(function () {
          if (formContainer.children.length > 0) {
            clearInterval(checkFormRendered);
            loader.style.opacity = "0";
            loader.style.transition = "opacity 0.3s ease-out";
            setTimeout(() => {
              loader.style.display = "none";
              formContainer.style.display = "block";
              formContainer.style.opacity = "0";
              requestAnimationFrame(() => {
                formContainer.style.transition = "opacity 0.5s ease-in";
                formContainer.style.opacity = "1";
              });
            }, 300);
          }
        }, 100);

        // Fallback loader hide with smooth transition
        setTimeout(function () {
          clearInterval(checkFormRendered);
          if (loader.style.display !== "none") {
            loader.style.opacity = "0";
            loader.style.transition = "opacity 0.3s ease-out";
            setTimeout(() => {
              loader.style.display = "none";
              formContainer.style.display = "block";
              formContainer.style.opacity = "0";
              requestAnimationFrame(() => {
                formContainer.style.transition = "opacity 0.5s ease-in";
                formContainer.style.opacity = "1";
              });
            }, 300);
          }
        }, 5000);

        // Add smooth scroll behavior to Apply Now button
        const applyNowButton = document.querySelector('a[href="#"]');
        applyNowButton.addEventListener("click", (e) => {
          e.preventDefault();
          formContainer.scrollIntoView({ behavior: "smooth" });
        });

        // Add loading animation to brochure download
        const brochureButton = document.getElementById("download-brochure");
        if (brochureButton) {
          brochureButton.addEventListener("click", (e) => {
            e.preventDefault();
            const originalText = brochureButton.textContent;
            brochureButton.innerHTML = `
                      <svg class="animate-spin h-5 w-5 mr-3" viewBox="0 0 24 24">
                          <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" fill="none"></circle>
                          <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                      </svg>
                      Downloading...
                  `;
            setTimeout(() => {
              brochureButton.innerHTML = originalText;
              // Add your actual download logic here
            }, 2000);
          });
        }

        // Add dynamic counter for available seats
        let seatsLeft = 50;
        const seatsCounter = document.createElement("div");
        seatsCounter.className = "text-sm text-red-600 font-medium";
        seatsCounter.textContent = `Only ${seatsLeft} seats remaining`;
        document.querySelector(".animate-pulse-slow").appendChild(seatsCounter);

        // Update seats counter periodically
        setInterval(() => {
          if (seatsLeft > 1) {
            seatsLeft--;
            seatsCounter.textContent = `Only ${seatsLeft} seats remaining`;
          }
        }, 5000);
      });
    </script>
  </body>
</html>
